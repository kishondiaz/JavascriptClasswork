<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Contact</title>
    <link rel="stylesheet" href="../css/default.css"/>
    <link rel="stylesheet" href="../css/default.date.css"/>
    <link rel="stylesheet" href="../css/default.time.css"/>
    
    <script src="../js/jquery-1.12.3.min.js"></script>
    <script src="../js/picker.js"></script>
    <script src="../js/picker.date.js"></script>
    <script src="../js/picker.time.js"></script>
    
    <script type="text/javascript">
      var haspassed = [false,false,false,false,false,false];
      
      window.onload =function(){
        if(document.querySelector('#fname').value != ''){
          document.querySelector('#fname').value = '';
        }
        if(document.querySelector('#lname').value != ''){
          document.querySelector('#lname').value = '';
        }
        if(document.querySelector('#email').value != ''){
          document.querySelector('#email').value = '';
        }
        if(document.querySelector('#password').value != ''){
          document.querySelector('#password').value = '';
        }
        if(document.querySelector('#comments').value != ''){
          document.querySelector('#comments').value = '';
        }
      }
      function commentCheck(e){
        if(e !== undefined){
          if(e != document.querySelector('form')){
            if(e.value.length === 500){
              e.maxLength = 500;
              
            }
            haspassed[5] = true;
          }
        }
      }
      function passwordCheck(e){
        var secureRex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]{2})(?=.*[\!\@\#\$\%\^\&\*\?\_\~\,\.\/\<\>\?\-\=\_\+\(\)\[\]\{\}\;\:\`\|\\\"\']{2})(?=.*[!@#\$%\^&\*])(?=.{8,})/
        var strongRex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]{2})(?=.*[\!\@\#\$\%\^\&\*\?\_\~\,\.\/\<\>\?\-\=\_\+\(\)\[\]\{\}\;\:\`\|\\\"\'])(?=.*[!@#\$%\^&\*])(?=.{6,})/
        var fairRex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[\!\@\#\$\%\^\&\*\?\_\~\,\.\/\<\>\?\-\=\_\+\(\)\[\]\{\}\;\:\`\|\\\"\'])(?=.*[!@#\$%\^&\*])(?=.{6,})/
        var weakRegex = /^((?=.*[a-z])|(?=.*[A-Z])(?=.*[0-9]))+(?=.*[\!\@\#\$\%\^\&\*\?\_\~\,\.\/\<\>\?\-\=\_\+\(\)\[\]\{\}\;\:\`\|\\\"\'])(?=.*[!@#\$%\^&\*])(?=.{6,})/;
        if(e !== undefined){
          if(e != document.querySelector('form')){
            console.log(e.value.toString());
            if(e.value.toString().match(secureRex)){
              e.style.border = '7px solid #e5e4e2';
              haspassed[4] = true;
            }else
            if(e.value.toString().match(strongRex)){
              haspassed[4] = true;
              e.style.border = '3px solid green';
            }else if(e.value.toString().match(fairRex)){
              haspassed[4] = true;
              e.style.border = '3px solid yellow';
            }else if(e.value.toString().match(weakRegex)){
              haspassed[4] = true;
              e.style.border = '3px solid orange';
            }else if(e.value.length < 6){
              e.style.border = '3px solid red';
              haspassed[4] = false;
            }
          }
        }
      }
      function checkEmail(e){
        var checkemail =  /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        
        if(e != undefined){
          if(e != document.querySelector('form')){
            if(e.value.toString().match(checkemail)){
              haspassed[2] = true;
            }
          }
        }
        
      }
      function checkdate(e){
        if(e !== undefined){
          if(e != document.querySelector('form')){
            if(e.value !== ''){
              haspassed[3] = true;

            }
          }
        }     
      }
      
       function checkforempty(e){
        var done = false;

        for(var i=0; i< haspassed.length; i++){
          console.log(haspassed);
          if(haspassed[i] === true){
            
            done=true;
          }
        }
        if(done){
          alert('thank you for your purchase');
          return true;
        }else{
          console.log('here');
          return false;
        }
      }
      
      function checkname(e){
        var notnamerex = /^[a-z A-Z]/;
        var onstart = false;
        
        if(e !== undefined){
          if(e != document.querySelector('form')){
            
            e.autocomplete='off';
            if(!e.value.toString().match(notnamerex)){
              e.value = '';
              if(e.value.length >= 64){
                e.maxLength = 64;
                e.value = '';
              }
            }
            if(e.value.length >= 64){
                e.maxLength = 64;    
            }
            if(e.id== 'fname'){
              if(e.value !== ''){
                haspassed[0] = true;

              }else{
                haspassed[0]=false;
              }
            }
            if(e.id=='lname'){
              if(e.value !== ''){
                haspassed[1] = true;

              }else{
              
                haspassed[1]=false;
              }
            }
          }
        }
      }
      $(document).ready(function(){
        $('#date').pickadate({
          labelMonthNext: 'Go to the next month',
          labelMonthPrev: 'Go to the previous month',
          labelMonthSelect: 'Pick a month from the dropdown',
          labelYearSelect: 'Pick a year from the dropdown',
          selectMonths: true,
          selectYears: true,
          format:'mm/dd/yyyy',
          formatSubmit: 'mm/dd/yyyy',
          hiddenPrefix: 'prefix__',
          hiddenSuffix: '__suffix'
        },checkdate(this));
        
      });
    </script>
  </head>
  <body>
    <header></header>
    <nav>
      <ul>
        <li><a href="../index.html">Home</a></li>
        <li><a href="./gallery.html">Gallery</a></li>
        <li><a href="./about.html">About Me</a></li>
        <li><a href="./contactme.html">Contact</a></li>
        <li><a href="#">Future Projects</a></li>
      </ul>
    </nav>
    <div>
      <form action="http://ss1.ciwcertified.com/cgi-bin/process.pl" onsubmit="return checkforempty(this);" novalidate>
        <label for="fname">First Name</label>
        <input name="fname" id="fname" type="text" data-value="First Name"  oninput="checkname(this)" >
        <span id="ferror"></span><br>
        
        <label for="lname">Last Name</label>
        <input name="lname" id="lname" type="text"  data-value="Last Name" oninput="checkname(this)">
        <span id="lerror"></span><br>
        
        <label for="email">Email</label>
        <input name="email" id="email" type="text"  data-value="Email" oninput="checkEmail(this)" >
        <span id="eerror"></span><br>
        
        <label for="date">Date</label>
        <input name="date" id="date" type="text" data-value="Date" >
        <span id="derror"></span><br>
        
        <label for="password">Password</label>
        <input name="password" id="password" type="password" data-value="Password" oninput="passwordCheck(this)">
        <span id="perror"></span><br>
        
        <label for="comments">Comments</label>
        <textarea name="comments" id="comments" data-value="Comment" oninput="commentCheck(this)"></textarea>
        <span id="cerror"></span><br>
        <fieldset>
          <input id="submit" type="submit" value="Submit">
          <input id="reset" type="reset">
        </fieldset>
      </form>
    </div>
  </body>
</html>